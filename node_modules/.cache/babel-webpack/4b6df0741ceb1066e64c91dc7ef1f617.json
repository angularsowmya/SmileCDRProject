{"ast":null,"code":"import * as libphonenumber from 'google-libphonenumber';\nexport let PhoneValidator = /*#__PURE__*/(() => {\n  class PhoneValidator {}\n\n  // Inspired on: https://github.com/yuyang041060120/ng2-validation/blob/master/src/equal-to/validator.ts\n  PhoneValidator.validCountryPhone = countryControl => {\n    let subscribe = false;\n    return phoneControl => {\n      if (!subscribe) {\n        subscribe = true;\n        countryControl.valueChanges.subscribe(() => {\n          phoneControl.updateValueAndValidity();\n        });\n      }\n\n      if (phoneControl.value !== \"\") {\n        try {\n          const phoneUtil = libphonenumber.PhoneNumberUtil.getInstance();\n          let phoneNumber = \"\" + phoneControl.value + \"\",\n              region = countryControl.value.iso,\n              number = phoneUtil.parse(phoneNumber, region),\n              isValidNumber = phoneUtil.isValidNumber(number);\n\n          if (isValidNumber) {\n            return null;\n          }\n        } catch (e) {\n          // console.log(e);\n          return {\n            validCountryPhone: true\n          };\n        }\n\n        return {\n          validCountryPhone: true\n        };\n      } else {\n        return null;\n      }\n    };\n  };\n\n  return PhoneValidator;\n})();","map":null,"metadata":{},"sourceType":"module"}